// Generated by CoffeeScript 1.8.0

/*
	Example 11 - How to create a new customer in the Mollie API.
 */

(function() {
  var example, fs, mollie;

  mollie = require("./mollie");

  fs = require("fs");

  example = (function() {
    function example(request, response) {

      /*
      			Customer creation parameters.
      			See: https://www.mollie.com/en/docs/reference/customers/create
       */
      mollie.customers.create({
        name: "Luke Skywalker",
        email: "luke@example.org",
        metadata: {
          isJedi: true
        }
      }, (function(_this) {
        return function(customer) {
          if (customer.error) {
            console.error(customer.error);
            return response.end();
          }
          response.write("<p>New customer created " + customer.id + " (" + customer.name + ").</p>");
          return response.end();
        };
      })(this));
    }

    return example;

  })();

  module.exports = example;

}).call(this);
